<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        /* Stilen for hele siden */
        *{
            margin: 0;
            padding: 0;
            font-family: Bahnschrift;
        }

        /* Overskrift felt */
        header{
            background-color: #065c56;
            text-align: center;
        }

        /* Overskriften */
        h1{
            padding: 20px;
            color: white;
        }

        /* Nederste feltet, posisjonen er fiksert */
        footer{
            border-top: 1px solid gray;
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: white;
            height: 10%;
        }

        /* Navigering av sidene nederst på siden, alle er i et grid ved siden av hverandre */
        nav{
            display: flex;
            column: flex-direction;
            grid-area: nav;
            flex-direction: row;
            height: 100%;
        }

        /* Hyperlenke til de ulike sidene, alle har lik størrelse og teksten er midtstilt */
        nav a{
            display: flex;
            color: grey;
            text-decoration: none;
            align-items: center;
            justify-content: center;
            height: 100%;
            font-size: 14px;
            flex: 1;
        }

        /* Ved musepeker over hyperlenkene endres fargen og størrelsen på teksten */
        nav a:hover{
            font-size: 16px;
            color: white;
            background-color: #ff9f1c;
        }

        /* Siden brukeren er på er markert oransj */
        .current{
            font-size: 16px;
            color: white;
            background-color: #ff9f1c;
        }

        /* Navigering mellom mine, alles og tidligere oppgaver, alle er i row */
        .navigering{
            display: flex;
            column: flex-direction;
            grid-area: nav;
            flex-direction: row;
            background-color: #065c56;
        }

        /* Stilen for siden brukeren er inne på */
        .tabs{
            display: flex;
            color: black;
            text-decoration: none;
            align-items: center;
            justify-content: center;
            height: 100%;
            font-size: 18px;
            flex: 1;
            background-color: white;
            border-radius: 20px 20px 0 0;
        }

        /* Stilen for navigerings baren hvor brukeren ikke er inne på */
        .tabs2{
            display: flex;
            color: black;
            text-decoration: none;
            align-items: center;
            justify-content: center;
            height: 100%;
            font-size: 18px;
            flex: 1;
            background-color: white;
            border-radius: 20px 20px 0 0;
            opacity: 50%;
        }

        /* Ved musepeker over endres gjennomsiktigheten */
        .navigering a:hover{
            opacity: 100%;
        }

        /* Stilen for oppgavene og for teksten innenfor div feltet */
        .todos{
            display: inline-flex;
            flex-direction: row;
            flex-wrap: nowrap;
            justify-content: space-between;
            background-color: #2ec4b6;
            border-radius: 40px;
            width: 90%;
            height: 4rem;
            margin-bottom: 2%;
        }

        /* Stilen for checkboxen før */
        .todos label {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 50%;
            cursor: pointer;
            height: 3.2rem;
            position: absolute;
            width: 3.2rem;
            margin: 6px;
        }

        /* Stilen på checkboxen etter den er trykket */
        .todos label:after {
            border: 7px solid #fff;
            border-top: none;
            border-right: none;
            content: "";
            height: 12px;
            left: 10px;
            opacity: 0;
            position: absolute;
            top: 12px;
            transform: rotate(-45deg);
            width: 24px;
        }

        /* Gjem den valige checkboxen */
        .todos input[type="checkbox"] {
            visibility: hidden;
        }

        /* Når checkboxen er trykket endres fargen */
        .todos input[type="checkbox"]:checked + label {
            background-color: #065c65;
            border-color: white;
        }

        /* Gjør checkboxen synlig når trykket */
        .todos input[type="checkbox"]:checked + label:after {
            opacity: 1;
        }

        /* Stilen på teksten til oppgaven */
        .todos p{
            color: #065c56;
            font-size: 1.5rem;
            margin-top: 1.1rem;
        }

        /* Hyperlenken for å gå inn på oppgaven */
        .todos a{
            text-decoration: none;
            color: #065c56;
            font-size: 3.5rem;
        }

        /* Endre musepekeren over slett knappen */
        .delete{
            cursor: pointer;
        }

        /* Hovedfeltet til oppgavene */
        .thisWeek{
            padding: 15px;
            text-align: center;
        }

        /* Stilen for overskriften til oppgavene */
        .thisWeek h3{
            text-align: left;
            margin-left: 6%;
            color: #065c56;
        }

        /* Posisjonen til knappen nederst på siden */
        .wrapper{
            text-align: center;
        }

        /* Stilen for knappen nederst på siden */
        .leggTil {
            background-color: #ff9f1c;
            border: 1px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 41px;
            color: white;
            position: fixed;
            bottom: 11%;
            margin-top: -25px;
            margin-left: -25px;
        }

        /* Ved musepekeren over knappen endres fargen */
        .leggTil:hover{
            border-color: black;
            cursor: pointer;
        }

        /* Gjemme output feltet til oppgavene */
        #inpTODO{
            visibility: hidden;
        }
    </style>
<body>
<header>
    <h1>Oppgaver</h1>
</header>
<div class="navigering">
    <a class="tabs" href="">Mine oppgaver</a>
    <a class="tabs2" href="">Alles oppgaver</a>
    <a class="tabs2" href="">Tidligere</a>
</div>
<br>
<div class="thisWeek">
    <h3>Denne uken</h3>
    <section id="todolist">
    </section>
</div>
<div class="thisWeek">
    <h3>Neste uke</h3>
    <div class="todos">
        <input type="checkbox" id="checkbox4" />
        <label for="checkbox4"></label>
        <p>Vask stua</p>
        <p class="delete">X</p>
        <a href="">></a>
    </div>
    <div class="todos">
        <input type="checkbox" id="checkbox5" />
        <label for="checkbox5"></label>
        <p>Handle inn mat</p>
        <p class="delete">X</p>
        <a href="">></a>
    </div>
    <div class="todos">
        <input type="checkbox" id="checkbox6" />
        <label for="checkbox6"></label>
        <p>Bytte lyspærer på rom</p>
        <p class="delete">X</p>
        <a href="">></a>
    </div>
    <div class="todos">
        <input type="checkbox" id="checkbox7" />
        <label for="checkbox7"></label>
        <p>Støvsuge leiligheten</p>
        <p class="delete">X</p>
        <a href="">></a>
    </div>
</div>
<br>
<br>
<br>
<br>
<br>
<input type="text" id="inpTODO" placeholder="Hva må jeg huske å gjøre?" autofocus>
<div class="wrapper">
    <a href="leggtil.html"><button class="leggTil">+</button></a>
</div>

<footer>
    <nav>
        <a class="current" href="oppgaver.html">Oppgaver</a>
        <a href="kalender.html">Kalender</a>
        <a href="chat.html">Chat</a>
        <a href="personalia.html">Personalia</a>
    </nav>
</footer>

<script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
<script>
    // Initialiser Firebase
    var config = {
        apiKey: "AIzaSyAwvAa3eebvLguf3r67sYeEET24Jm0K4CM",
        authDomain: "todos-a09b1.firebaseapp.com",
        databaseURL: "https://todos-a09b1.firebaseio.com",
        projectId: "todos-a09b1",
        storageBucket: "todos-a09b1.appspot.com",
        messagingSenderId: "1000406779047"
    };
    firebase.initializeApp(config);
</script>
<script>

    // Hent ut id-en fra HTML-koden for å bruke den senere
    var inpTODO = document.getElementById("inpTODO")
    var todolist = document.getElementById("todolist")

    // Hent ut dataen fra databasen
    var database = firebase.database();
    var todos = database.ref("todos");

    // Funskjon brukt for å lagre dataen i databasen
    function lagreTodo(){
        todos.push({
            tekst: inpTODO.value,
            done: false
        })

        inpTODO.value = "";
        inpTODO.focus();
    }

    // Slett oppgavene på siden og på databasen
    function slett(pk) {
        var todo = todos.child(pk);
        todo.remove();
        var div = document.getElementById(pk);
        todolist.removeChild(div);
    }

    // Henter dataen fra databasen og viser dem i todolist
    function visTodo(snap){

        var pk = snap.key;
        var todo = snap.val();

        todolist.innerHTML += `
    <div class="todos" id="${pk}">
    <input type="checkbox" id="${todo.tekst}">
    <label for="${todo.tekst}"></label>
    <p>${todo.tekst}</p>
    <p class="delete" onclick="slett('${pk}')">X</p>
    <a href="goin.html">></a>
    </div>
    `;
    }

    inpTODO.onchange = lagreTodo;
    todos.on("child_added",visTodo)

</script>
</body>
</html>
